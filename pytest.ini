[pytest]
# Test discovery patterns
testpaths = .
python_files = *_test.py test_*.py run_all_tests.py
python_functions = test_* *_test *_tests *_module_tests
python_classes = Test*

# Output configuration
addopts = 
    -v
    --tb=short
    --strict-markers
    --disable-warnings
    -p no:warnings
    --color=yes

# Test markers for categorization
markers =
    unit: Unit tests (fast, isolated)
    integration: Integration tests (slower, external dependencies)
    live: Tests requiring live API access (skip with SKIP_LIVE_API_TESTS=true)
    slow: Slow tests (skip with -m "not slow")
    performance: Performance benchmarking tests
    regression: Regression prevention tests
    smoke: Smoke tests (basic functionality)

# Coverage configuration (optional, uncomment to enable)
# addopts = 
#     --cov=.
#     --cov-report=html
#     --cov-report=term-missing
#     --cov-branch
#     --cov-fail-under=80

# Ignore patterns
norecursedirs = 
    .git
    .venv
    venv
    env
    __pycache__
    *.egg-info
    .pytest_cache
    Cache
    Logs
    Data
    backup_*

# Timeout for tests (seconds)
# timeout = 300
# timeout_method = thread

# Logging configuration
log_cli = false
log_cli_level = INFO
log_file = Logs/pytest.log
log_file_level = DEBUG
log_format = %(asctime)s [%(levelname)8s] %(name)s - %(message)s
log_date_format = %Y-%m-%d %H:%M:%S

# Minimum Python version
minversion = 3.11

# Show test durations
# addopts = --durations=10

# Capture configuration
addopts = 
    --capture=no

# Parallel execution (uncomment to enable)
# addopts = -n auto

# Test order randomization (uncomment to enable)
# addopts = --random-order
